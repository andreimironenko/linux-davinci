From david-b@pacbell.net Wed Jan 17 11:03:49 2007
From: Håvard Skinnemoen <hskinnemoen@atmel.com>
Date: Mon Feb 27 18:15:04 2006 +0100
Subject: USB: usb ethernet gadget recognizes HUSB2DEV
To: Greg KH <greg@kroah.com>
Cc: Haavard Skinnemoen <hskinnemoen@atmel.com>
Message-ID: <200701171057.31125.david-b@pacbell.net>
Content-Disposition: inline


From: Håvard Skinnemoen <hskinnemoen@atmel.com>

Define DEV_CONFIG_CDC when compiling for HUSB2DEV.

From: Håvard Skinnemoen <hskinnemoen@atmel.com>
Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/usb/gadget/ether.c |    4 ++++
 1 file changed, 4 insertions(+)

--- gregkh-2.6.orig/drivers/usb/gadget/ether.c
+++ gregkh-2.6/drivers/usb/gadget/ether.c
@@ -279,6 +279,10 @@ MODULE_PARM_DESC(host_addr, "Host Ethern
 #define DEV_CONFIG_CDC
 #endif
 
+#ifdef CONFIG_USB_GADGET_HUSB2DEV
+#define DEV_CONFIG_CDC
+#endif
+
 
 /* For CDC-incapable hardware, choose the simple cdc subset.
  * Anything that talks bulk (without notable bugs) can do this.
