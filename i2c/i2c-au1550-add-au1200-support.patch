From khali@linux-fr.org Sun Aug 13 14:37:19 2006
Date: Sun, 13 Aug 2006 23:37:13 +0200
From: Domen Puncer <domen.puncer@ultra.si>
To: Greg KH <greg@kroah.com>
Cc: Ralf Baechle <ralf@linux-mips.org>
Subject: [PATCH 06/12] i2c-au1550: Add I2C support for Au1200
Message-Id: <20060813233713.6233124c.khali@linux-fr.org>
Content-Disposition: inline; filename=i2c-au1550-add-au1200-support.patch

From: Domen Puncer <domen.puncer@ultra.si>

i2c-au1550: Add I2C support for Au1200

Signed-off-by: Domen Puncer <domen.puncer@ultra.si>
Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
Signed-off-by: Jean Delvare <khali@linux-fr.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

---
 drivers/i2c/busses/Kconfig      |    6 +++---
 drivers/i2c/busses/i2c-au1550.c |    3 +--
 2 files changed, 4 insertions(+), 5 deletions(-)

--- gregkh-2.6.orig/drivers/i2c/busses/Kconfig
+++ gregkh-2.6/drivers/i2c/busses/Kconfig
@@ -75,11 +75,11 @@ config I2C_AMD8111
 	  will be called i2c-amd8111.
 
 config I2C_AU1550
-	tristate "Au1550 SMBus interface"
-	depends on I2C && SOC_AU1550
+	tristate "Au1550/Au1200 SMBus interface"
+	depends on I2C && (SOC_AU1550 || SOC_AU1200)
 	help
 	  If you say yes to this option, support will be included for the
-	  Au1550 SMBus interface.
+	  Au1550 and Au1200 SMBus interface.
 
 	  This driver can also be built as a module.  If so, the module
 	  will be called i2c-au1550.
--- gregkh-2.6.orig/drivers/i2c/busses/i2c-au1550.c
+++ gregkh-2.6/drivers/i2c/busses/i2c-au1550.c
@@ -34,8 +34,7 @@
 #include <linux/errno.h>
 #include <linux/i2c.h>
 
-#include <asm/mach-au1x00/au1000.h>
-#include <asm/mach-pb1x00/pb1550.h>
+#include <asm/mach-au1x00/au1xxx.h>
 #include <asm/mach-au1x00/au1xxx_psc.h>
 
 #include "i2c-au1550.h"
