From khali@linux-fr.org Wed Jan 18 14:12:24 2006
Date: Wed, 18 Jan 2006 23:13:09 +0100
From: Jean Delvare <khali@linux-fr.org>
To: Greg KH <greg@kroah.com>
Subject: [PATCH 11/17] hwmon: w83792d drop useless macros
Message-Id: <20060118231309.1509ba3d.khali@linux-fr.org>
Content-Disposition: inline; filename=hwmon-w83792d-drop-useless-macros.patch

Drop 3 useless macros in the w83792d hardware monitoring driver.

Signed-off-by: Jean Delvare <khali@linux-fr.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
---
 drivers/hwmon/w83792d.c |   24 +++---------------------
 1 file changed, 3 insertions(+), 21 deletions(-)

--- gregkh-2.6.orig/drivers/hwmon/w83792d.c
+++ gregkh-2.6/drivers/hwmon/w83792d.c
@@ -618,10 +618,6 @@ show_alarms_reg(struct device *dev, stru
 
 static
 DEVICE_ATTR(alarms, S_IRUGO, show_alarms_reg, NULL);
-#define device_create_file_alarms() \
-device_create_file(dev, &dev_attr_alarms);
-
-
 
 static ssize_t
 show_pwm(struct device *dev, struct device_attribute *attr,
@@ -775,12 +771,6 @@ show_regs_chassis(struct device *dev, st
 
 static DEVICE_ATTR(chassis, S_IRUGO, show_regs_chassis, NULL);
 
-#define device_create_file_chassis() \
-do { \
-device_create_file(dev, &dev_attr_chassis); \
-} while (0)
-
-
 static ssize_t
 show_chassis_clear(struct device *dev, struct device_attribute *attr, char *buf)
 {
@@ -811,13 +801,6 @@ store_chassis_clear(struct device *dev, 
 static DEVICE_ATTR(chassis_clear, S_IRUGO | S_IWUSR,
 		show_chassis_clear, store_chassis_clear);
 
-#define device_create_file_chassis_clear() \
-do { \
-device_create_file(dev, &dev_attr_chassis_clear); \
-} while (0)
-
-
-
 /* For Smart Fan I / Thermal Cruise */
 static ssize_t
 show_thermal_cruise(struct device *dev, struct device_attribute *attr,
@@ -1294,16 +1277,15 @@ w83792d_detect(struct i2c_adapter *adapt
 		device_create_file(dev, &sda_tolerance[i].dev_attr);
 	}
 
-	device_create_file_alarms();
-
 	for (i = 0; i < ARRAY_SIZE(sda_pwm); i++) {
 		device_create_file(dev, &sda_pwm[i].dev_attr);
 		device_create_file(dev, &sda_pwm_enable[i].dev_attr);
 		device_create_file(dev, &sda_pwm_mode[i].dev_attr);
 	}
 
-	device_create_file_chassis();
-	device_create_file_chassis_clear();
+	device_create_file(dev, &dev_attr_alarms);
+	device_create_file(dev, &dev_attr_chassis);
+	device_create_file(dev, &dev_attr_chassis_clear);
 
 	for (i = 0; i < ARRAY_SIZE(sda_sf2_point); i++)
 		device_create_file(dev, &sda_sf2_point[i].dev_attr);
